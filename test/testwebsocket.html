<!DOCTYPE html>
<html>
    <head>
        <title>skynet WebSocket example</title>
        <!-- 
            skynet_websocket

            skynet(https://github.com/cloudwu/skynet) websocket(lua版)
            将websocket.lua放到skynet/lualib目录下 将testwebsocket.lua放到skynet/test目录下
            启动skynet，输入testwebsocket启动testwebsocket服务
            用浏览器打开testwebsocket.html
        -->
    </head>
    <body>   
        <script>
            var ws = new WebSocket('ws://127.0.0.1:8001/ws');

            ws.onopen = function(){
                console.log("websocket open");
                ws.send('WebSocket'); 
            };
            ws.onmessage = function(ev){
                console.log ("client recv: " + ev.data);
            };
            ws.onclose = function(ev){
                console.log("close");
            };
            ws.onerror = function(ev){
                console.log("error");
            };

        </script>
    </body>
</html>
